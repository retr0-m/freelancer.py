[2025-12-26 02:09:01.261]	[server_human_approval.py]		[INIT] TEMP_DIR set to: /Users/kali/Desktop/business/new websites side hustle/scripts/automating-website-creation/server/__temp__


        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
        â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
        â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
        â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
        â•šâ•â•     â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•
                                        VERSION SERVER 1.6.1
        [2025-12-26 02:09:01.273]	[server.py]		Usage:
  python server.py <use_graphical_editor> [customers_type] [customers_city] [leads_to_generate]

Arguments:
  customers_type       : e.g. Barber, Restaurant, Dentist
  customers_city       : e.g. Zurich, Berlin, Paris
  leads_to_generate    : integer

Example:
  python script.py false Barber Zurich 10
[2025-12-26 02:09:01.274]	[database.py]		Attempting to connect to database file: ./leads.db
[2025-12-26 02:09:01.274]	[database.py]		Successfully established database connection.
[2025-12-26 02:09:01.275]	[database.py]		Database initialized and 'leads' table ready in ./leads.db. (Name is UNIQUE)
[2025-12-26 02:09:01.275]	[database.py]		Database connection closed after initialization.
[2025-12-26 02:09:01.275]	[server.py]		Running human approval server...
[2025-12-26 02:09:01.275]	[lead_pipeline_manager.py]		[mainloop] 	 STARTING...
[2025-12-26 02:09:01.276]	[lead_pipeline_manager.py]		Recalled server.lead_pipeline_manager.mainloop().while-true (:81) -> (0)
[2025-12-26 02:09:01.869]	[database.py]		Attempting to connect to database file: ./leads.db
[2025-12-26 02:09:01.869]	[database.py]		Successfully established database connection.
[2025-12-26 02:09:01.870]	[database.py]		Last lead ID in database: 0
[2025-12-26 02:09:04.724]	[find_customers.py]		Fetching next page of results...
[2025-12-26 02:09:08.116]	[find_customers.py]		Fetching next page of results...
[2025-12-26 02:09:09.481]	[lead_pipeline_manager.py]		Changing customer type because no lead was found:
	from: ristorante -> to: restaurant
[2025-12-26 02:09:09.927]	[database.py]		Attempting to connect to database file: ./leads.db
[2025-12-26 02:09:09.927]	[database.py]		Successfully established database connection.
[2025-12-26 02:09:09.927]	[database.py]		Last lead ID in database: 0
[2025-12-26 02:09:10.504]	[database.py]		Attempting to connect to database file: ./leads.db
[2025-12-26 02:09:10.505]	[database.py]		Successfully established database connection.
[2025-12-26 02:09:10.505]	[database.py]		Checking if lead exists: SELECT status FROM leads WHERE 1=1 AND name = ? with params ['Al Forno']
[2025-12-26 02:09:10.506]	[database.py]		Lead not found.
[2025-12-26 02:09:10.506]	[find_customers.py]		ğŸ¯ LEAD found and initialized: ID 1, Al Forno
[2025-12-26 02:09:12.908]	[find_customers.py]		Fetching next page of results...
[2025-12-26 02:09:16.332]	[find_customers.py]		Fetching next page of results...
[2025-12-26 02:09:17.805]	[temp_leads.py]		Attempting to create temp folders for given leads...
[2025-12-26 02:09:17.806]	[scrape_images.py]		Searching images for: Al Forno UniversitÃ¤tstrasse 40, 8006 ZÃ¼rich, Switzerland
[2025-12-26 02:09:17.923]	[scrape_images.py]		No more images found.
[2025-12-26 02:09:17.924]	[scrape_images.py]		images scraping done
[2025-12-26 02:09:17.925]	[create_website.py]		Initializing client
[2025-12-26 02:09:17.983]	[create_website.py]		CLient initialized
[2025-12-26 02:09:17.983]	[create_website.py]		Generating JSON prompt meant to fit in server __temp__ folder version...
[2025-12-26 02:09:17.983]	[create_website.py]		Done!
[2025-12-26 02:09:17.983]	[create_website.py]		Running prompt with following data: 
{
  "system": {
    "role": "web designer and developer",
    "language_rules": {
      "source": "business.address",
      "method": "deterministic_mapping",
      "mapping": {
        "cantons": {
          "ZH": "de-CH",
          "BE": "de-CH",
          "LU": "de-CH",
          "UR": "de-CH",
          "SZ": "de-CH",
          "OW": "de-CH",
          "NW": "de-CH",
          "GL": "de-CH",
          "ZG": "de-CH",
          "FR": "fr-CH",
          "SO": "de-CH",
          "BS": "de-CH",
          "BL": "de-CH",
          "SH": "de-CH",
          "AR": "de-CH",
          "AI": "de-CH",
          "SG": "de-CH",
          "GR": "multilingual",
          "AG": "de-CH",
          "TG": "de-CH",
          "TI": "it-CH",
          "VD": "fr-CH",
          "VS": "multilingual",
          "NE": "fr-CH",
          "GE": "fr-CH",
          "JU": "fr-CH"
        },
        "cities": {
          "ZÃ¼rich": "de-CH",
          "Zurich": "de-CH",
          "Bern": "de-CH",
          "Basel": "de-CH",
          "Luzern": "de-CH",
          "St. Gallen": "de-CH",
          "Genf": "fr-CH",
          "Geneva": "fr-CH",
          "Lausanne": "fr-CH",
          "NeuchÃ¢tel": "fr-CH",
          "Lugano": "it-CH",
          "Bellinzona": "it-CH",
          "Locarno": "it-CH"
        }
      },
      "multilingual_handling": {
        "priority": "local_majority_language",
        "grisons_default": "de-CH",
        "valais_default": "fr-CH"
      },
      "fallback": "en",
      "enforcement": {
        "no_language_mixing": true,
        "use_regional_variant": true
      }
    },
    "style": {
      "tone": "modern",
      "professional": true,
      "responsive": true,
      "animations": {
        "on_load": true,
        "on_scroll": true
      }
    },
    "output_constraints": {
      "format": "html",
      "single_file": true,
      "filename": "index.html",
      "no_explanations": true,
      "no_code_blocks": true,
      "no_placeholders": true
    },
    "instructions": [
      "Determine the website language strictly using language_rules",
      "If canton and city conflict, city takes precedence",
      "Use the selected language consistently across all content",
      "Do not mix languages under any circumstances",
      "Apply correct Swiss spelling and conventions for the selected language",
      "Create an amazing themed website for the provided business",
      "Use only the images provided",
      "Do not reference images that are not provided",
      "Return only raw HTML code"
    ]
  },
  "business": {
    "name": "Al Forno",
    "phone_number": "0442516577",
    "address": "UniversitÃ¤tstrasse 40, 8006 ZÃ¼rich, Switzerland",
    "language": [
      "German",
      "French",
      "Italian",
      "Romansh"
    ]
  },
  "images": {}
}
[2025-12-26 02:09:17.984]	[create_website.py]		prompting model for website...
[2025-12-26 02:09:18.266]	[create_website.py]		[FATAL ERROR]	Could not generate website for the following reason: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 41.748961056s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '41s'}]}}
[2025-12-26 02:09:18.267]	[server_human_approval.py]		Succesfully killed web server interface thread (probably @onexit -> server_human_approval.stop_server())
