<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Approval Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Apple System Font Stack */
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      }
      
      /* Custom styling for elements created by dashboard.js 
               Matches Tailwind Slate-900 Theme
            */
      .lead {
        padding: 12px 16px;
        border-bottom: 1px solid #334155; /* slate-700 */
        cursor: pointer;
        color: #94a3b8; /* slate-400 */
        font-size: 0.875rem; /* text-sm */
        transition: all 0.2s ease;
      }
      
      /* Hover Effect requested */
      .lead:hover {
        background-color: #1e293b; /* slate-800 */
        color: #f8fafc; /* slate-50 */
        padding-left: 20px; /* Subtle movement */
      }
      
      .lead.active {
        background-color: #1e293b;
        color: #60a5fa; /* blue-400 */
        border-left: 3px solid #60a5fa;
      }
    </style>
  </head>
  <body class="h-screen w-screen flex flex-col md:flex-row bg-slate-900 overflow-hidden text-slate-200">
    <aside class="h-1/3 md:h-full md:w-80 flex-shrink-0 flex flex-col border-b md:border-b-0 md:border-r border-slate-700 bg-slate-900 z-10">
      <div class="h-12 md:h-14 flex items-center px-4 md:px-6 border-b border-slate-700 bg-slate-900/95 backdrop-blur">
        <h3 class="font-semibold text-xs md:text-sm tracking-widest text-slate-500 uppercase">Pending Leads</h3>
      </div>

      <div id="list" class="flex-1 overflow-y-auto bg-slate-900/50">
        <div id="leads"></div>
      </div>
    </aside>

    <main class="flex-1 flex flex-col h-full relative bg-slate-950">
      <header class="h-14 bg-slate-900/80 backdrop-blur border-b border-slate-700 flex items-center justify-between px-4 md:px-6 shadow-sm z-20">
        <div class="flex items-center overflow-hidden mr-4">
          <svg class="w-4 h-4 text-slate-500 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9h12"></path>
          </svg>
          <span class="text-xs md:text-sm text-slate-400 font-mono truncate" id="current-url-display">Waiting for selection...</span>
        </div>

        <div class="flex space-x-3 flex-shrink-0">
          <button onclick="review(false)" class="px-3 md:px-4 py-1.5 rounded-lg text-xs md:text-sm font-medium text-red-400 border border-slate-600 hover:bg-red-500/10 hover:border-red-500/50 hover:text-red-300 transition-colors focus:outline-none">Reject</button>
          <button onclick="review(true)" class="px-3 md:px-4 py-1.5 rounded-lg text-xs md:text-sm font-medium text-white bg-blue-600 hover:bg-blue-500 shadow-lg hover:shadow-blue-500/20 transition-all transform active:scale-95 focus:outline-none">Approve</button>
        </div>
      </header>

      <div id="preview" class="flex-1 p-0 md:p-6 overflow-hidden flex flex-col">
        <div class="flex-1 w-full bg-white md:rounded-xl shadow-2xl overflow-hidden relative border-0 md:border border-slate-700">
          <iframe id="frame" class="w-full h-full" src="about:blank"></iframe>

          <div id="placeholder" class="absolute inset-0 flex flex-col items-center justify-center bg-slate-800 z-0 pointer-events-none">
            <svg class="w-12 h-12 text-slate-600 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"></path>
            </svg>
            <p class="text-slate-500 text-sm font-medium">Select a lead to preview</p>
          </div>
        </div>
      </div>
    </main>

    <script src="/static/dashboard.js"></script>

    <script>
      const frame = document.getElementById('frame')
      const placeholder = document.getElementById('placeholder')
      frame.onload = function () {
        if (frame.src !== 'about:blank' && frame.src !== '') {
          placeholder.classList.add('hidden')
        }
      }
    </script>
  </body>
</html>
